<%# MEMO:商品ソートの各表示名を英語 %>
<%# MEMO:モバイル対応 %>


<div class="pt-10 mb-6 text-center">
  <span class="text-2xl font-bold font-['Noto Sans'] text-dark-green">
    Products
  </span>
</div>

<div class="flex flex-wrap justify-center md:justify-start px-4 pb-4">
  <div class="mb-3 w-fit text-md font-medium font-['Noto Sans'] mr-2 px-4 py-1.5 rounded-md shadow <%= @sort === "latest" ? "bg-light-green text-white" : "bg-gray-100 text-dark-green" %>">
    <%= link_to 'Latest', products_path(latest: true) %>
  </div>
  <div class="mb-3 w-fit text-md font-medium font-['Noto Sans'] mr-2 px-4 py-1.5 rounded-md shadow <%= @sort === "price_high_to_low" ? "bg-light-green text-white" : "bg-gray-100 text-dark-green" %>">
    <%= link_to 'Price : High', products_path(price_high_to_low: true) %>
  </div>
  <div class="mb-3 w-fit text-md font-medium font-['Noto Sans'] mr-2 px-4 py-1.5 rounded-md shadow <%= @sort === "price_low_to_high" ? "bg-light-green text-white" : "bg-gray-100 text-dark-green" %>">
    <%= link_to 'Price : Low', products_path(price_low_to_high: true) %>
  </div>
</div>

<!-- 商品 - start -->
<div class="flex flex-wrap justify-center gap-6">
  <% @products.each do |product| %>   
    <div class="w-[150px] h-[260px] md:w-[260px] md:h-[360px] bg-gray-100 shadow-md rounded-lg">
      <%= link_to product_path(product) do %>
        <%= image_tag product.image, class: "object-cover rounded-t-lg" %>
        <div class="px-4 pb-2">
          <p class="text-sm md:text-md font-['Noto Sans JP'] font-semibold tracking-tight text-dark-green my-4"><%= product.name %></p>
          <div class="flex justify-between items-center">
            <span class="text-sm md:text-md font-['Noto Sans'] font-bold text-dark-green"><%= number_to_currency(product.price, unit: "¥", strip_insignificant_zeros: true) %></span>
            <% if product.stock > 0 %>
              <span class="bg-blue-100 text-blue-800 text-[8px] md:text-xs font-['Noto Sans JP'] font-semibold p-1.5 rounded">在庫あり</span>
            <% else %>
              <span class="bg-red-100 text-red-800 text-[8px] md:text-xs font-['Noto Sans JP'] font-semibold p-1.5 rounded">在庫なし</span>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  <% end %>
</div>
<!-- 商品 - end -->
